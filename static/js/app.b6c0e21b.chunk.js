(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(167),i=n(338),c=n(339),l=n(16),s=n.n(l),u=n(10),f=n.n(u),d=n(13),g=n.n(d),p=n(11),h=n.n(p),m=n(12),y=n.n(m),v=n(8),E=n.n(v),x=n(1),w=n(19),b=n(2),S=n(25),P=n(90),k=n(78),C=n(22),R=n(17),T=n.n(R),z=n(119),_=n.n(z),D="https://redaction-citizen.herokuapp.com";function A(e,t){return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.awrap(_.a.post(D+"/blog/search/"+t+"/",e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}var W=function(e){h()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=E()(e);if(t()){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}(n);function n(e){var a;return f()(this,n),(a=t.call(this,e))._loadMoreArticles=function(){var e;(e=a.nextPage,T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(_.a.get(D+"/blog/articles/last/"+e+"/"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)).then((function(e){var t=e.data;a.nextPage=t.page+1,a.setState({articles:[].concat(s()(a.state.articles),s()(t.articles))})})).catch((function(e){console.log(e)}))},a.state={articles:[]},a.nextPage=0,a}return g()(n,[{key:"componentDidMount",value:function(){this._loadMoreArticles()}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:H.container},0===this.state.articles.length?r.a.createElement(b.a,{style:H.noPosts},r.a.createElement(w.a,{style:H.noPostsText},"You have no articles for the moment!")):r.a.createElement(k.a,{style:{width:"100%"},data:this.state.articles,keyExtractor:function(e){return e.id.toString()},onEndReachedThreshold:.5,onEndReached:function(){e._loadMoreArticles()},renderItem:function(t){var n=t.item;return r.a.createElement(b.a,{style:H.post},r.a.createElement(S.a,{style:H.image,source:{uri:n.image}}),r.a.createElement(w.a,{style:H.title},n.titre),r.a.createElement(b.a,{style:H.tags},n.tags.map((function(e){return r.a.createElement(C.a,{key:e,onPress:function(){}},r.a.createElement(w.a,{style:H.tag},"#",e))}))),r.a.createElement(b.a,{style:H.button},r.a.createElement(P.a,{color:"#9f79ee",title:"Lire l'article",onPress:function(){return e.props.navigation.navigate("Article",{id:n.id})}})))}}))}}]),n}(r.a.Component),H=x.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center"},noPosts:{flex:1,width:190,alignItems:"center",justifyContent:"center"},noPostsText:{fontWeight:"bold",fontSize:23,textAlign:"center"},post:{marginTop:20,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:1,elevation:7,borderWidth:1,borderColor:"#0000",backgroundColor:"#0000",width:"80%",maxWidth:325,alignSelf:"center",marginBottom:30},image:{alignSelf:"center",height:180,width:"95%",paddingHorizontal:10,marginTop:15},title:{fontWeight:"bold",fontSize:18,paddingHorizontal:10,paddingTop:5,alignSelf:"center"},tags:{textAlign:"center",paddingHorizontal:10,paddingTop:5,flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},tag:{color:"blue",textDecorationLine:"underline",paddingHorizontal:5},button:{marginTop:15,marginBottom:10,width:130,alignSelf:"center"}}),I=W,j=n(53),L=n(46);var M=function(e){h()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=E()(e);if(t()){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}(n);function n(e){var a;return f()(this,n),(a=t.call(this,e)).state={post:void 0,loading:!0},a}return g()(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.route.params.id,T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(_.a.get(D+"/blog/search/id/"+e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,null,null,Promise)).then((function(e){t.setState({post:e.data,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.post,n=e.loading;return r.a.createElement(b.a,{style:O.container},!0===n?r.a.createElement(b.a,{style:O.loading_container},r.a.createElement(L.a,{color:"green",size:100})):void 0!==t?r.a.createElement(j.a,{style:O.scroll},r.a.createElement(b.a,{style:O.post},r.a.createElement(S.a,{style:O.image,source:{uri:t.image}}),r.a.createElement(w.a,{style:O.title},t.titre),r.a.createElement(w.a,{style:O.description},t.contenu),r.a.createElement(b.a,{style:O.tags},t.tags.map((function(e){return r.a.createElement(C.a,{key:e,onPress:function(){}},r.a.createElement(w.a,{style:O.tag},"#",e))}))))):r.a.createElement(w.a,null))}}]),n}(r.a.Component),O=x.a.create({container:{flex:1,alignItems:"center"},post:{marginTop:20,width:"80%",maxWidth:355,alignSelf:"center"},image:{alignSelf:"center",height:180,width:"100%",paddingHorizontal:10,marginTop:15},title:{fontWeight:"bold",fontSize:18,paddingHorizontal:10,paddingTop:5,alignSelf:"center"},description:{textAlign:"center",paddingHorizontal:10,paddingTop:15},singleButton:{width:70},scroll:{width:"100%"},tags:{textAlign:"center",paddingHorizontal:10,paddingTop:5,flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},tag:{color:"blue",textDecorationLine:"underline",paddingHorizontal:5},loading_container:{flex:1,position:"absolute",alignItems:"center",justifyContent:"center",top:0,bottom:0,left:0,right:0}}),B=M,N=n(94);var J=function(e){h()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=E()(e);if(t()){var r=E()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}(n);function n(e){var a;return f()(this,n),(a=t.call(this,e))._updateCategorySearch=function(e){a.setState({categorySelectedIndex:e},(function(){a.search.category__contains=a.options.categories[e]}))},a.options={categories:["","Marvel","DC"],categories_names:["Tout","Marvel","DC"],tags:[]},a.search={},a.nextPage=0,a.state={categorySelectedIndex:0,articles:[],isLoading:!1},a}return g()(n,[{key:"_searchArticles",value:function(){var e=this;A(this.search,0).then((function(t){var n=t.data;e.nextPage=n.page+1,e.setState({articles:n.articles})})).catch((function(e){console.log(e)}))}},{key:"_loadMoreArticles",value:function(){var e=this;A(this.search,this.nextPage).then((function(t){var n=t.data;e.nextPage=n.page+1,e.setState({articles:[].concat(s()(e.state.articles),s()(n.articles))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:F.main_container},r.a.createElement(b.a,null,r.a.createElement(b.a,{style:F.input_container},r.a.createElement(N.b,null,"Cat\xe9gorie :"),r.a.createElement(N.a,{buttons:this.options.categories_names,selectedIndex:this.state.categorySelectedIndex,onPress:this._updateCategorySearch,containerStyle:{flex:1}}))),r.a.createElement(P.a,{title:"Rechercher",onPress:function(){return e._searchArticles()}}),r.a.createElement(k.a,{style:{width:"100%"},data:this.state.articles,keyExtractor:function(e){return e.id.toString()},onEndReachedThreshold:.5,onEndReached:function(){e._loadMoreArticles()},renderItem:function(t){var n=t.item;return r.a.createElement(b.a,{style:F.post},r.a.createElement(S.a,{style:F.image,source:{uri:n.image}}),r.a.createElement(N.b,{style:F.title},n.titre),r.a.createElement(b.a,{style:F.tags},n.tags.map((function(e){return r.a.createElement(C.a,{key:e,onPress:function(){}},r.a.createElement(N.b,{style:F.tag},"#",e))}))),r.a.createElement(b.a,{style:F.button},r.a.createElement(P.a,{color:"#9f79ee",title:"Lire l'article",onPress:function(){return e.props.navigation.navigate("Article",{id:n.id})}})))}}))}}]),n}(r.a.Component),F=x.a.create({main_container:{display:"flex",flex:1},textinput:{marginLeft:5,marginRight:5,height:50,borderColor:"#000000",borderWidth:1,paddingLeft:5},loading_container:{position:"absolute",left:0,right:0,top:100,bottom:0,alignItems:"center",justifyContent:"center"},input_container:{flexDirection:"row"},noPosts:{flex:1,width:190,alignItems:"center",justifyContent:"center"},noPostsText:{fontWeight:"bold",fontSize:23,textAlign:"center"},post:{marginTop:20,shadowOffset:{width:10,height:10},shadowColor:"black",shadowOpacity:1,elevation:7,borderWidth:1,borderColor:"#0000",backgroundColor:"#0000",width:"80%",maxWidth:325,alignSelf:"center",marginBottom:30},image:{alignSelf:"center",height:180,width:"95%",paddingHorizontal:10,marginTop:15},title:{fontWeight:"bold",fontSize:18,paddingHorizontal:10,paddingTop:5,alignSelf:"center"},tags:{textAlign:"center",paddingHorizontal:10,paddingTop:5,flexDirection:"row",justifyContent:"center",flexWrap:"wrap"},tag:{color:"blue",textDecorationLine:"underline",paddingHorizontal:5},button:{marginTop:15,marginBottom:10,width:130,alignSelf:"center"}}),Y=Object(i.a)(),q=Object(i.a)(),G=Object(c.a)();function K(){return r.a.createElement(Y.Navigator,null,r.a.createElement(Y.Screen,{name:"Derniers articles",component:I}),r.a.createElement(Y.Screen,{name:"Article",component:B}))}function Q(){return r.a.createElement(q.Navigator,null,r.a.createElement(q.Screen,{name:"Recherche",component:J}),r.a.createElement(q.Screen,{name:"Article",component:B}))}function U(){return r.a.createElement(o.a,null,r.a.createElement(G.Navigator,null,r.a.createElement(G.Screen,{name:"Derniers articles",component:K}),r.a.createElement(G.Screen,{name:"Recherche",component:Q})))}function V(){return r.a.createElement(U,null)}n.d(t,"a",(function(){return V}))},233:function(e,t,n){n(234),e.exports=n(318)},234:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[233,1,2]]]);
//# sourceMappingURL=../../3c75ce502d481ffeb5b1.map